<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>block table</title>
    <link rel="stylesheet" href="blocked_table.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            font: 12px/20px 'Microsoft YaHei';
        }
        table {
            border: 1px solid #dde0e2;
            border-collapse: collapse;
        }
        table tr td,  table tr th {
            padding: 3px 5px;
            height: 24px;
            border: 1px solid #dde0e2;
        }
        table thead tr {
            background-color: #f1f1f1;
        }
        table td.bdl0 {
            border-left-color: transparent;
        }
        table td.bdr0 {
            border-right-color: transparent;
        }
        table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .w120 {
            width: 120px;
        }
        .wrap {
            margin: 20px auto;
            text-align: center;
        }
        .wrap .desc {
            margin: 10px auto;
        }
        .table-wrap {
            width: 540px;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="wrap">
        <h1 class="title">固定表格</h1>
        <p class="desc">支持表格固定头部、左侧列、底部</p>
        <div class="table-wrap">
            <table id="table" class="table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>订单名称</th>
                        <th class="w120">品牌</th>
                        <th>尺码</th>
                        <th>选购热点</th>
                        <th>类型</th>
                        <th>单价</th>
                        <th>数量</th>
                        <th>总价</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                    
                </tbody>
                <tfoot id="tfoot" class="non">
                    <tr class="sum">
                        <td class="bdr0"></td>
                        <td class="bdr0 bdl0">总价</td>
                        <td class="w120"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td class="sum-total"></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <script type="text/x-jsrender" id="tp_tbody">
        {{for data}}
            <tr>
                <td>{{:id}}</td>
                <td>{{:name}}</td>
                <td>{{:brand}}</td>
                <td>{{:size}}</td>
                <td>{{:buyHot}}</td>
                <td>{{:type}}</td>
                <td>{{:price}}</td>
                <td>{{:num}}</td>
                <td class="total">{{total:price num}}</td>
            </tr>
        {{/for}}
    </script>

    <script src="jquery.min.js"></script>
    <script src="jsrender.js"></script>
    <script src="blocked_table.js"></script>
    <script>
        $(function () {
            let data = [
                {
                    id: 1001,
                    name: '订单1',
                    brand: '花花公子',
                    size: 'XXS',
                    buyHot: '潮流',
                    type: '上衣',
                    price: '145',
                    num: 2
                },
                {
                    id: 1002,
                    name: '订单2',
                    brand: '翰代维',
                    size: 'XS',
                    buyHot: '纯棉',
                    type: '上衣',
                    price: '123',
                    num: 3
                },
                {
                    id: 1003,
                    name: '订单3',
                    brand: 'Carsley/卡斯立',
                    size: 'S',
                    buyHot: '打底衫',
                    type: '打底衫',
                    price: '567',
                    num: 4
                },
                {
                    id: 1004,
                    name: '订单4',
                    brand: '南极人',
                    size: 'M',
                    buyHot: '修身显瘦',
                    type: '连衣裙',
                    price: '235',
                    num: 12
                },
                {
                    id: 1005,
                    name: '订单5',
                    brand: 'Afs Jeep/战地吉普',
                    size: '均码',
                    buyHot: '修身款',
                    type: '牛仔裤',
                    price: '321',
                    num: 16
                },
                {
                    id: 1006,
                    name: '订单6',
                    brand: 'CHAMPION',
                    size: 'L',
                    buyHot: '韩版',
                    type: '外套',
                    price: '156',
                    num: 5
                },
                {
                    id: 1007,
                    name: '订单7',
                    brand: 'HSTYLE/韩都衣舍',
                    size: 'XL',
                    buyHot: '加肥加大',
                    type: '外套',
                    price: '197',
                    num: 3
                },
                {
                    id: 1008,
                    name: '订单8',
                    brand: 'Hissse/他尚',
                    size: '2XL',
                    buyHot: '纯色',
                    type: 'T恤',
                    price: '147',
                    num: 4
                },
                {
                    id: 1009,
                    name: '订单9',
                    brand: 'KAI COLOR/凯恒千色',
                    size: 'XXXL',
                    buyHot: '气质淑女',
                    type: '连衣裙',
                    price: '193',
                    num: 13
                },
                {
                    id: 1010,
                    name: '订单10',
                    brand: 'HLA/海澜之家',
                    size: 'XXXXL',
                    buyHot: '翻领',
                    type: '西服',
                    price: '95',
                    num: 19
                },
                {
                    id: 1011,
                    name: '订单11',
                    brand: 'College Home',
                    size: 'XXXXXL',
                    buyHot: '薄款',
                    type: '外套',
                    price: '92',
                    num: 23
                },
                {
                    id: 1012,
                    name: '订单12',
                    brand: '阿迪达斯',
                    size: 'XXS',
                    buyHot: '简约百搭',
                    type: '运动鞋',
                    price: '26',
                    num: 13
                },
                {
                    id: 1013,
                    name: '订单13',
                    brand: '耐克',
                    size: 'XS',
                    buyHot: '日系',
                    type: '运动服',
                    price: '273',
                    num: 12
                },
                {
                    id: 1014,
                    name: '订单14',
                    brand: '李宁',
                    size: 'S',
                    buyHot: '情侣款',
                    type: '衬衫',
                    price: '131',
                    num: 29
                },
                {
                    id: 1015,
                    name: '订单15',
                    brand: '七匹狼',
                    size: 'M',
                    buyHot: '针织开衫',
                    type: '针织衫',
                    price: '367',
                    num: 9
                },
                {
                    id: 1016,
                    name: '订单16',
                    brand: 'College Home',
                    size: 'XXXXXL',
                    buyHot: '原宿风',
                    type: '外套',
                    price: '326',
                    num: 23
                },
                {
                    id: 1017,
                    name: '订单17',
                    brand: '阿迪达斯',
                    size: 'XXS',
                    buyHot: '条纹',
                    type: '衬衫',
                    price: '326',
                    num: 12
                },
                {
                    id: 1018,
                    name: '订单18',
                    brand: '耐克',
                    size: 'XS',
                    buyHot: '复古风',
                    type: '上衣',
                    price: '330',
                    num: 15
                }
            ]

            $.views.converters({
                total: function (price, num) {
                    return Number(price) * Number(num);
                }
            });
            $('#tbody').html($('#tp_tbody').render({data:data})); //width:'auto'
            var sumTotal = 0;
            $('.total').each(function (index, el) {
                sumTotal += Number($(el).text());
            });
            $('.sum-total').html(sumTotal);
            // 调用
            BlockTable({id:'table',cellWidth:70,otherCellWidth:{2:120},scrollHeight: 230,leftFix:3});
        })
    </script>
</body>
</html>